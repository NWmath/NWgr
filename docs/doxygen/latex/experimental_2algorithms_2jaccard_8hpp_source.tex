\hypertarget{experimental_2algorithms_2jaccard_8hpp_source}{}\doxysection{jaccard.\+hpp}
\label{experimental_2algorithms_2jaccard_8hpp_source}\index{/Users/lums/NWmath/NWgr/include/nwgraph/experimental/algorithms/jaccard.hpp@{/Users/lums/NWmath/NWgr/include/nwgraph/experimental/algorithms/jaccard.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{// }}
\DoxyCodeLine{2 \textcolor{comment}{// This file is part of NW Graph (aka GraphPack) }}
\DoxyCodeLine{3 \textcolor{comment}{// (c) Pacific Northwest National Laboratory 2018-\/2021 }}
\DoxyCodeLine{4 \textcolor{comment}{// (c) University of Washington 2018-\/2021 }}
\DoxyCodeLine{5 \textcolor{comment}{// }}
\DoxyCodeLine{6 \textcolor{comment}{// Licensed under terms of include LICENSE file }}
\DoxyCodeLine{7 \textcolor{comment}{// }}
\DoxyCodeLine{8 \textcolor{comment}{// Authors: }}
\DoxyCodeLine{9 \textcolor{comment}{//     Andrew Lumsdaine }}
\DoxyCodeLine{10 \textcolor{comment}{//}}
\DoxyCodeLine{11 }
\DoxyCodeLine{12 \textcolor{preprocessor}{\#ifndef NW\_GRAPH\_EXPERIMENTAL\_JACCARD\_HPP}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#define NW\_GRAPH\_EXPERIMENTAL\_JACCARD\_HPP}}
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include "{}nwgraph/adaptors/cyclic\_range\_adapter.hpp"{}}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include "{}nwgraph/util/parallel\_for.hpp"{}}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#include <atomic>}}
\DoxyCodeLine{18 \textcolor{preprocessor}{\#include <future>}}
\DoxyCodeLine{19 \textcolor{preprocessor}{\#include <thread>}}
\DoxyCodeLine{20 }
\DoxyCodeLine{21 \textcolor{preprocessor}{\#include "{}nwgraph/adaptors/edge\_range.hpp"{}}}
\DoxyCodeLine{22 \textcolor{preprocessor}{\#include "{}nwgraph/util/intersection\_size.hpp"{}}}
\DoxyCodeLine{23 \textcolor{preprocessor}{\#include "{}nwgraph/util/timer.hpp"{}}}
\DoxyCodeLine{24 \textcolor{preprocessor}{\#include "{}nwgraph/util/util.hpp"{}}}
\DoxyCodeLine{25 }
\DoxyCodeLine{26 \textcolor{preprocessor}{\#include <tuple>}}
\DoxyCodeLine{27 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{28 }
\DoxyCodeLine{29 \textcolor{keyword}{namespace }nw \{}
\DoxyCodeLine{30 \textcolor{keyword}{namespace }graph \{}
\DoxyCodeLine{31 }
\DoxyCodeLine{32 \textcolor{keyword}{template} <\textcolor{keyword}{typename} GraphT>}
\DoxyCodeLine{33 \textcolor{keywordtype}{size\_t} jaccard\_similarity\_v1(\textcolor{keyword}{const} GraphT\& A) \{}
\DoxyCodeLine{34   \textcolor{keywordtype}{size\_t} ctr = 0;}
\DoxyCodeLine{35   \textcolor{keyword}{auto}   first     = A.begin();}
\DoxyCodeLine{36   \textcolor{keyword}{auto}   last      = A.end();}
\DoxyCodeLine{37 }
\DoxyCodeLine{38   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} G = first; first != last; ++first) \{}
\DoxyCodeLine{39     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} v = (*first).begin(); v != (*first).end(); ++v) \{}
\DoxyCodeLine{40       \textcolor{keyword}{auto} numer = nw::graph::intersection\_size(v (*first).end(), G[std::get<0>(*v)]);}
\DoxyCodeLine{41       \textcolor{keyword}{auto} denom = degree(*first) + degree(G[std::get<0>(*v)]) -\/ numer;}
\DoxyCodeLine{42       \textcolor{keywordtype}{double} rat   = ((double)numer) / ((double)denom);}
\DoxyCodeLine{43       std::get<2>(*v) = rat;}
\DoxyCodeLine{44       ++ctr;}
\DoxyCodeLine{45     \}}
\DoxyCodeLine{46   \}}
\DoxyCodeLine{47   \textcolor{keywordflow}{return} ctr;}
\DoxyCodeLine{48 \}}
\DoxyCodeLine{49 }
\DoxyCodeLine{50 \textcolor{preprocessor}{\#if 0}}
\DoxyCodeLine{51 \textcolor{keyword}{template} <\textcolor{keyword}{typename} GraphT>}
\DoxyCodeLine{52 \textcolor{keyword}{auto} jaccard\_similarity\_v2(GraphT\& graph) \{}
\DoxyCodeLine{53 }
\DoxyCodeLine{54   \textcolor{keywordtype}{size\_t} ctr = 0;}
\DoxyCodeLine{55   \textcolor{keyword}{auto} deg = degrees(graph);}
\DoxyCodeLine{56   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}\&\& [u, v, w] : make\_edge\_range<0, 1, 2>(graph)) \{}
\DoxyCodeLine{57     \textcolor{keyword}{auto}   numer = intersection\_size(graph[u], graph[v]);}
\DoxyCodeLine{58     \textcolor{keyword}{auto}   denom = deg[u] + deg[v] -\/ numer;}
\DoxyCodeLine{59     \textcolor{keywordtype}{double} rat   = ((double)numer) / ((double)denom);}
\DoxyCodeLine{60     w            = rat;}
\DoxyCodeLine{61     ++ctr;}
\DoxyCodeLine{62   \}}
\DoxyCodeLine{63   \textcolor{keywordflow}{return} ctr;}
\DoxyCodeLine{64 \}}
\DoxyCodeLine{65 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{66 }
\DoxyCodeLine{67 }
\DoxyCodeLine{68 \}    \textcolor{comment}{// namespace graph}}
\DoxyCodeLine{69 \}    \textcolor{comment}{// namespace nw}}
\DoxyCodeLine{70 }
\DoxyCodeLine{71 \textcolor{preprocessor}{\#endif    }\textcolor{comment}{// NW\_GRAPH\_EXPERIMENTAL\_JACCARD\_HPP}}

\end{DoxyCode}
